<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id=";}gc`an.~0^#Hc4%Qg!^">n</variable><variable id="mEaKn.K@IcS@puud|:mR">x</variable><variable id="finem*v-VKz;9MB5ff)F">xs</variable><variable id="sf|*w0PWP=Q.s5_6-/)^">y</variable><variable id="2_)sOb[ghqIk3^ZR3fda">ys</variable><variable id="-m%eUW^$7Sj,bN0iGY7T">left_speed</variable><variable id="C[kpL!V0Zeri0uV+$,L|">right_speed</variable><variable id="0.g7}[g$V_Gnp92W{mc8">fPivYLimit</variable><variable id="sE]utU#_sB^onX,R,/o4">fPivScale</variable><variable id="Oew?Hln36u8oSEHd{r[Q">nMotPremixL</variable><variable id="ztJOx`+^{ah,jRx,wDSl">nMotPremixR</variable><variable id="S-7Gg%-=Tfe588Q(r}v4">nPivSpeed</variable><variable id="UAJ8RdzaJ?VwuRza,5+5">nMotMixL</variable><variable id="a3/*8{;O1L$1*[.5LgB[">nMotMixR</variable><variable id="o*P^zdR05E}THEAT^2jO">P3</variable></variables><block type="pxt-on-start" id="zC*@wp;zMAiFq%5UUgd+" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="Lz`6i#:dba@y-8dr)ifW"><field name="VAR" id="o*P^zdR05E}THEAT^2jO">P3</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id=";3?}IAP_-:xX)(hgMV!~"><mutation items="0"/></block></value><next><block type="typescript_statement" id="F(}hC9`gPve/QoE62kpV" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nMotPremixR = 0" numlines="1" declaredvars="nMotPremixR"></mutation><next><block type="typescript_statement" id="=^TA6;KAkZ!y2}`^vE@P" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nMotPremixL = 0" numlines="1" declaredvars="nMotPremixL"></mutation><next><block type="typescript_statement" id="?Z?t^E2P=SJ_DaKhtnWS" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y = 0" numlines="1" declaredvars="y"></mutation><next><block type="typescript_statement" id="`gBm?:7ZD~/lSTx~IgsD" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x = 0" numlines="1" declaredvars="x"></mutation><next><block type="radio_set_group" id="_d~F_h8!nOzbEZ1SxDFg"><value name="ID"><shadow type="math_number_minmax" id="#8eki[:1]ie{uvAk[c,1"><mutation min="0" max="255" label="Number" precision="0"/><field name="SLIDER">1</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="radio_on_string_drag" id="CQP4%~zEq*qg0q-Nzg?}" x="421" y="0"><value name="HANDLER_DRAG_PARAM_receivedString"><shadow type="argument_reporter_string" id="Jq.Qd-ID5:)T9UI?cC(z"><field name="VALUE">receivedString</field></shadow></value><statement name="HANDLER"><block type="variables_set" id="5Sd(Kx;jT)6VrBLPa{a4"><field name="VAR" id=";}gc`an.~0^#Hc4%Qg!^">n</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_indexof" id="|t1+p3ol@a_;mP-]5fY}"><value name="this"><shadow type="text"><field name="TEXT"/></shadow><block type="argument_reporter_string" id="#6$I@^QMs8RV80-;$Lmf"><field name="VALUE">receivedString</field></block></value><value name="searchValue"><shadow type="text" id="`w?`)T!d+q4%=*-EJu(D"><field name="TEXT">,</field></shadow></value></block></value><next><block type="typescript_statement" id="hjcT:ME?A*OLQz/bM_+x" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let ys = receivedString.slice(0, n)" numlines="1" declaredvars="ys"></mutation><next><block type="typescript_statement" id="c!W6s+eqp?(1X6wo8#ap" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let xs = receivedString.slice(n + 1, receivedString.length)" numlines="1" declaredvars="xs"></mutation><next><block type="variables_set" id="QY86m6ACPeqdU1J{jo[-"><field name="VAR" id="mEaKn.K@IcS@puud|:mR">x</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=")H]Kx@uGc#$c%{+e,4Xb"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="FhBAQSwTB8]CS.BZnvyi"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="B([^WgCy~E(aB1Dd)vnJ"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_parseint" id="G0|smd{_OUYg*tMx[K-4"><value name="text"><block type="variables_get" id="Ec@ET5Uf:1sP71h!a{a6"><field name="VAR" id="finem*v-VKz;9MB5ff)F">xs</field></block></value></block></value><value name="B"><shadow type="math_number" id="l6WjcRV$P]rEe1:7cI$p"><field name="NUM">1024</field></shadow></value></block></value><value name="B"><shadow type="math_number" id=":HXpuZukx,=^ya:bVH4v"><field name="NUM">255</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="4n9~+g0c~g_qZa~W#_6o"><field name="NUM">128</field></shadow></value></block></value><next><block type="variables_set" id="w#/`BO8:r.|MB-co@7`,"><field name="VAR" id="sf|*w0PWP=Q.s5_6-/)^">y</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="jG.|nu86V|/[HD(ca-EZ"><field name="OP">MINUS</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="=0y|h,U+6y2Ri?4m#Z!{"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="5c|gs{eQJF|g]YJ#KXO#"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="string_parseint" id="/IfzLE`sx1{XQ=+5PACA"><value name="text"><block type="variables_get" id="6{4m^j^i^(K6EF1M?]i#"><field name="VAR" id="2_)sOb[ghqIk3^ZR3fda">ys</field></block></value></block></value><value name="B"><shadow type="math_number" id="3G2kL@|T,7CI34rbv%`#"><field name="NUM">1024</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="-|_ZK_~k9Jqyw3oSH@!q"><field name="NUM">255</field></shadow></value></block></value><value name="B"><shadow type="math_number" id="k08a*czx[MhpJx!DD2@*"><field name="NUM">128</field></shadow></value></block></value><next><block type="controls_if" id="dVxq/{PYaZEwD8^1g|PY"><mutation else="1"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="Gaia,{ILju3tXKa4ZY@$"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="H^TI4JgcOVF|#XO4Gfg)"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="5]t]}pJI4jW~K{1GL#F-"><field name="VAR" id="mEaKn.K@IcS@puud|:mR">x</field></block></value><value name="B"><shadow type="math_number" id="Y**THpFQoCEnqgvapeNB"><field name="NUM">10</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="eL^+!H$bRAlV0Vi-kSz`"><field name="OP">LT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="9=EXt|Ol@LaZ:bqU;l~("><field name="VAR" id="sf|*w0PWP=Q.s5_6-/)^">y</field></block></value><value name="B"><shadow type="math_number" id="YPbuDCDmnn,_/z7X/kM%"><field name="NUM">10</field></shadow></value></block></value></block></value><statement name="DO0"><block type="rover_stop_all" id="V`zvFM@:r*a`SY6QsaI`"><field name="act">MotorActions.Stop</field></block></statement><statement name="ELSE"><block type="typescript_statement" id=".FG7G4acC(fy8+GP_lgY" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let [left_speed, right_speed] = convert(x, y)" numlines="1"></mutation><next><block type="rover_motor_dual" id="bN{/qv6C#w0%.GQpf-PD"><comment pinned="false" h="80" w="160">basic.show_number(left_speed)</comment><value name="speed1"><shadow type="math_number_minmax"><mutation min="-255" max="255"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="XWS:%yf#z3lqS2:;_?G%"><field name="VAR" id="-m%eUW^$7Sj,bN0iGY7T">left_speed</field></block></value><value name="speed2"><shadow type="math_number_minmax"><mutation min="-255" max="255"/><field name="SLIDER">0</field></shadow><block type="variables_get" id="QII|dc:5`7^xP^3Br8T*"><field name="VAR" id="C[kpL!V0Zeri0uV+$,L|">right_speed</field></block></value></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="!_@#;S!E8Nq44l.7wGlS" x="1282" y="0"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="rover_stop_all" id="n~0WP|8A^hu:f,B9EAt^"><field name="act">MotorActions.Stop</field></block></statement></block><block type="device_forever" id="zI3Pdov+?c]%:6}1T^-@" x="1630" y="0"/><block type="function_definition" id="ro?gj1$0/I($^e(Bqj5/" x="1835" y="0"><mutation name="convert" functionid="C{)%Y4mp`#`4ExV7_^[%"><arg name="nJoyX" id="h0tqr4oh16s4stnpjj66" type="number"/><arg name="nJoyY" id="vos1s105bxfusraiwt6p" type="number"/></mutation><field name="function_name">convert</field><comment pinned="false" h="80" w="160">TEMP VARIABLES&#10;Motor (left)  premixed output        (-128..+127)&#10;Motor (right) premixed output        (-128..+127)</comment><value name="h0tqr4oh16s4stnpjj66"><shadow type="argument_reporter_number" id="P;cF!jpOi8a_~lhY?#0}"><field name="VALUE">nJoyX</field></shadow></value><value name="vos1s105bxfusraiwt6p"><shadow type="argument_reporter_number" id="8LcMS~y]kHUHaOE|#_~4"><field name="VALUE">nJoyY</field></shadow></value><statement name="STACK"><block type="variables_set" id="js.zw{+r:Ygz3gqa{=#v"><field name="VAR" id="0.g7}[g$V_Gnp92W{mc8">fPivYLimit</field><value name="VALUE"><shadow type="math_number" id="5iD{$1n.2+gp+yOPL3AA"><field name="NUM">32</field></shadow></value><next><block type="variables_set" id="f]pY`utd)QL4TFCg`}!6"><field name="VAR" id="sE]utU#_sB^onX,R,/o4">fPivScale</field><comment pinned="false" h="80" w="160">Pivot Speed                          (-128..+127)</comment><value name="VALUE"><shadow type="math_number" id="e5zKegdPl#B+:t8Qu7}p"><field name="NUM">0</field></shadow></value><next><block type="controls_if" id="^PU^1@W#q]C{z:Uk8H5["><mutation else="1"/><comment pinned="false" h="80" w="160">Balance scale b/w drive and pivot    (   0..1   )&#10;Calculate Drive Turn output due to Joystick X input</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Ge/AWFo}(KE*e86Wdyg_"><field name="OP">GTE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="czKaS{h^|/nsE}[D11Fo"><field name="VALUE">nJoyY</field></block></value><value name="B"><shadow type="math_number" id="Vk,GX~no67bwkVo.24,N"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="typescript_statement" id="5Y2{Qs-k{$ap.xo[S$yl" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="nMotPremixL = nJoyX &gt;= 0 ? 127.0 : 127.0 + nJoyX" numlines="1"></mutation><next><block type="typescript_statement" id="OO}-^Dkj*7Gw.1JEr00n" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="nMotPremixR = nJoyX &gt;= 0 ? 127.0 - nJoyX : 127.0" numlines="1"></mutation></block></next></block></statement><statement name="ELSE"><block type="typescript_statement" id="@E3A?RW?y;r.)`A+KBB9" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="nMotPremixL = nJoyX &gt;= 0 ? 127.0 - nJoyX : 127.0" numlines="1"></mutation><next><block type="typescript_statement" id="HB0PIwN(H~NTBE`m2RhX" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="nMotPremixR = nJoyX &gt;= 0 ? 127.0 : 127.0 + nJoyX" numlines="1"></mutation></block></next></block></statement><next><block type="variables_set" id="r6ZG-kphs8%x-~Lvn)cl"><field name="VAR" id="Oew?Hln36u8oSEHd{r[Q">nMotPremixL</field><comment pinned="false" h="80" w="160">Scale Drive output due to Joystick Y input (throttle)</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="U!QNAtbo_htJe)vFeDEJ"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=",roA+9F)saq^[H)U92~."><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="PlIqNr/kt;s@5^(*Fj15"><field name="VAR" id="Oew?Hln36u8oSEHd{r[Q">nMotPremixL</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="{ENzpn5Qs)f,{xy@T+#A"><field name="VALUE">nJoyY</field></block></value></block></value><value name="B"><shadow type="math_number" id="5Va7SiAs@q91x(m`g3L("><field name="NUM">128</field></shadow></value></block></value><next><block type="variables_set" id="~a-Bzdb)yUdfHzmd6KOA"><field name="VAR" id="ztJOx`+^{ah,jRx,wDSl">nMotPremixR</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=":SC-$Wo`#ui!S$,uoiXt"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Q8LEJ9x8%hptMv;T3sPU"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="n}4}04VF88+@ue3#4u}^"><field name="VAR" id="ztJOx`+^{ah,jRx,wDSl">nMotPremixR</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="Y~H]bk_!*y?8ut/-EE~y"><field name="VALUE">nJoyY</field></block></value></block></value><value name="B"><shadow type="math_number" id="ubnr((.P$ljM?Hvw~AT7"><field name="NUM">128</field></shadow></value></block></value><next><block type="variables_set" id="y[!xbu]=^5wVem^fS#^0"><field name="VAR" id="S-7Gg%-=Tfe588Q(r}v4">nPivSpeed</field><comment pinned="false" h="80" w="160">Now calculate pivot amount&#10;- Strength of pivot (nPivSpeed) based on Joystick X input&#10;- Blending of pivot vs drive (fPivScale) based on Joystick Y input</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="yNII_;^0-.fz(HHaG!H;"><field name="VALUE">nJoyX</field></block></value><next><block type="typescript_statement" id="-Er}QUhxigGw=%al~~fE" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="fPivScale = Math.abs(nJoyY) &gt; fPivYLimit ? 0.0 : 1.0 - Math.abs(nJoyY) / fPivYLimit" numlines="1"></mutation><next><block type="variables_set" id="5J|B47DP7QzH9kcogwHu"><field name="VAR" id="UAJ8RdzaJ?VwuRza,5+5">nMotMixL</field><comment pinned="false" h="80" w="160">Calculate final mix of Drive and Pivot</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=",KBi.R2H#*kgIINAWY~o"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id=".M_~PF!PF@QV~:*7Lg}|"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="FdSN:MP/3S(q9TnWw-G-"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="I*|a?6hYrYJ9_}t/j[_a"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="kK:n@F%3=liXHcqRn8tQ"><field name="VAR" id="sE]utU#_sB^onX,R,/o4">fPivScale</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="yUM$04K/7V%g{?mbQ:,}"><field name="VAR" id="Oew?Hln36u8oSEHd{r[Q">nMotPremixL</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Vh?d8?^O}l/!TD%BXUQ9"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="$22eN=:_THBl[#|SrY5w"><field name="VAR" id="sE]utU#_sB^onX,R,/o4">fPivScale</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="KaF95^A-*pCbDGzqV(dx"><field name="VAR" id="S-7Gg%-=Tfe588Q(r}v4">nPivSpeed</field></block></value></block></value></block></value><next><block type="variables_set" id="W2KMjdC9Ls=p$IBK,9i*"><field name="VAR" id="a3/*8{;O1L$1*[.5LgB[">nMotMixR</field><comment pinned="false" h="80" w="160">Motor (left)  mixed output           (-128..+127)</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="|6~str@/kapeJ2w?)#)q"><field name="OP">ADD</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="EZP~=8cOK2B_4gDZr3hG"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="LNrL[C.BH%abY~c{[Hp4"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="G4ZNq@g4w4Yqn3?jb#c?"><field name="NUM">1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="YG{;DtseYsa7aQdNJn/~"><field name="VAR" id="sE]utU#_sB^onX,R,/o4">fPivScale</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="S}*iWDKnt?=9J`I)bbE4"><field name="VAR" id="ztJOx`+^{ah,jRx,wDSl">nMotPremixR</field></block></value></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="kJ.,8|,,uiVweJ`!jL1a"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="$SV(Hz$]bOzzm}!bjETd"><field name="VAR" id="sE]utU#_sB^onX,R,/o4">fPivScale</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="g{+W}zDatx7vKziUdgV?"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="mFj;3|8H/krkf^95m_Ib"><field name="NUM">0</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="(h[KGlw[#q:P}N+Wha.d"><field name="VAR" id="S-7Gg%-=Tfe588Q(r}v4">nPivSpeed</field></block></value></block></value></block></value></block></value><next><block type="function_return" id="/K=Cu?6$JeO@LRlwu|Cc"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><comment pinned="false" h="80" w="160">Motor (right) mixed output           (-128..+127)</comment><value name="RETURN_VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="K%K@o/Bu9`A).)rhYzn:"><mutation items="2"/><value name="ADD0"><block type="variables_get" id="9l2*}wMr0xak(~OycVt)"><field name="VAR" id="UAJ8RdzaJ?VwuRza,5+5">nMotMixL</field></block></value><value name="ADD1"><block type="variables_get" id="|#dQwzc5pLlcR31yMr%b"><field name="VAR" id="a3/*8{;O1L$1*[.5LgB[">nMotMixR</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>